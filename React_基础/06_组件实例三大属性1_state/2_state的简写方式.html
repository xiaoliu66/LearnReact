<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <!-- 准备好一个容器 -->
        <div id="test"></div>
        <!-- 引入react核心库 -->
        <script src="../js/react.development.js"></script>
        <!-- 引入react-dom,用于支持react操作dom -->
        <script src="../js/react-dom.development.js"></script>
        <!-- 引入babel,用于将jsx转为js -->
        <script src="../js/babel.min.js"></script>

        <script type="text/babel">
            // 1.创建组件
            class Weather extends React.Component {
                // constructor(props) {
                //     super(props);
                //     // 初始化状态
                //     this.state = { isHot: true, wind: '微风' };
                //     //  解决changeWeather中this指向问题
                //     this.changeWeather = this.changeWeather.bind(this)
                // }

                // 初始化状态
                state = { isHot: true, wind: "微风" };

                render() {
                    // return <h2 onClick={this.changeWeather}>今天天气很{this.state.isHot ? "炎热" : "凉爽"}</h2>;
                    return <h2 onClick={()=> this.changeWeather()}>今天天气很{this.state.isHot ? "炎热" : "凉爽"}</h2>;
                }

                // 自定义方法--要用赋值语句和箭头函数的形式
                changeWeather = () => {
                    // 状态state 不可直接更改！
                    // this.state.isHot = !this.state.isHot
                    const isHot = this.state.isHot;
                    // 状态必须通过setState进行更新，且更新是一种合并，不是替换。
                    this.setState({ isHot: !isHot });
                };
                
                // 自定义方法形式之一，在调用时用箭头函数调用
                changeWeather() {
                    const isHot = this.state.isHot;
                    this.setState({ isHot: !isHot });
                }
            }

            // 2.渲染组件
            ReactDOM.render(<Weather />, document.getElementById("test"));
        </script>
    </body>
</html>
